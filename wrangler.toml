# Trace: SPEC-migration-workers-1, TASK-workers-001.1, SPEC-migration-pages-to-workers-1
# Root-level wrangler.toml for monorepo deployment via Cloudflare Pages

name = "cheongram-board"
main = "api/src/index.ts"
compatibility_date = "2024-11-06"
compatibility_flags = ["nodejs_compat"]

# Environment variables (non-secret)
[vars]
NODE_ENV = "production"

# Custom Domain
routes = [
  { pattern = "crb.kadragon.work", custom_domain = true }
]

# Static Assets (Web)
[assets]
directory = "web/dist"
binding = "ASSETS"

# D1 Database Binding
[[d1_databases]]
binding = "DB"
database_name = "cheongram-board-db"
database_id = "77627225-92c1-4b09-94c9-d9cb6c9fcf88"
migrations_dir = "migrations"

# Observability
[observability]
enabled = true
