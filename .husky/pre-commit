#!/usr/bin/env sh
set -e

if [ "$SKIP_PRECOMMIT" = "1" ]; then
  echo "[pre-commit] Skipping checks because SKIP_PRECOMMIT=1"
  exit 0
fi

echo "[pre-commit] Running lint..."
npm run lint

echo "[pre-commit] Running typecheck..."
npm run typecheck

echo "[pre-commit] Running tests..."
(cd api && npm test)
